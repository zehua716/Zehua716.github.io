{{ partial "math.html" . }}
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">

{{ if .Page.Store.Get "needMermaid" -}}
<script type="module">
    var theme = 'neutral';
    if (localStorage.getItem("pref-theme") == "dark") {
        theme = 'dark'
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        theme = 'dark'
    }
    import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
    mermaid.initialize({
        startOnLoad: true,
        'theme': theme,
    });
</script>
{{ end }}